import{a as $,t as S}from"../chunks/disclose-version.D5G-igFy.js";import{Q as ie,ae as ue,m as y,Y as O,o as ve,D as de,ab as Z,af as ce,ag as P,a6 as R,X as E,ap as D,ah as j,ad as ee,ai as _e,A as X,aq as pe,ar as he,as as ge,O as ye,w as z,at as Te,au as Ae,aa as be,av as me,aw as xe,T as ke,a7 as Ee,a1 as Ie,a4 as we,ax as De,ay as Le,az as Ne,al as $e,p as B,j as L,l as N,k as I,t as Se,i as U,g as x,y as q,aA as Ce,aB as ae,aC as Me,aD as Oe}from"../chunks/runtime.vuAkoxxI.js";import{i as V}from"../chunks/lifecycle.Hn6KBcgv.js";import{e as Y,a as Re,s as te,b as re}from"../chunks/store.bxznsvyl.js";import{p as He,o as qe}from"../chunks/index-client.KYnQ6xc3.js";import{w as Ye}from"../chunks/index.CzMMpKb4.js";let H=null;function Be(e,a,t,s){for(var r=[],l=a.length,o=0;o<l;o++)Ae(a[o].e,r,!0);var c=l>0&&r.length===0&&t!==null;if(c){var _=t.parentNode;be(_),_.append(t),s.clear(),A(e,a[0].prev,a[l-1].next)}me(r,()=>{for(var p=0;p<l;p++){var n=a[p];c||(s.delete(n.k),A(e,n.prev,n.next)),xe(n.e,!c)}})}function Ue(e,a,t,s,r,l=null){var o=e,c={flags:a,items:new Map,first:null};{var _=e;o=y?O(ke(_)):_.appendChild(ie())}y&&ve();var p=null,n=!1;ue(()=>{var u=t(),f=de(u)?u:u==null?[]:Z(u),d=f.length;if(n&&d===0)return;n=d===0;let i=!1;if(y){var m=o.data===ce;m!==(d===0)&&(o=P(),O(o),R(!1),i=!0)}if(y){for(var T=null,v,h=0;h<d;h++){if(E.nodeType===8&&E.data===Ee){o=E,i=!0,R(!1);break}var w=f[h],b=s(w,h);v=se(E,c,T,null,w,b,h,r,a),c.items.set(b,v),T=v}d>0&&O(P())}if(!y){var g=Ie;Ve(f,c,o,r,a,(g.f&D)!==0,s)}l!==null&&(d===0?p?j(p):p=ee(()=>l(o)):p!==null&&_e(p,()=>{p=null})),i&&R(!0),t()}),y&&(o=E)}function Ve(e,a,t,s,r,l,o){var c=e.length,_=a.items,p=a.first,n=p,u,f=null,d=[],i=[],m,T,v,h;for(h=0;h<c;h+=1){if(m=e[h],T=o(m,h),v=_.get(T),v===void 0){var w=n?n.e.nodes_start:t;f=se(w,a,f,f===null?a.first:f.next,m,T,h,s,r),_.set(T,f),d=[],i=[],n=f.next;continue}if(Je(v,m,h),v.e.f&D&&j(v.e),v!==n){if(u!==void 0&&u.has(v)){if(d.length<i.length){var b=i[0],g;f=b.prev;var J=d[0],C=d[d.length-1];for(g=0;g<d.length;g+=1)G(d[g],b,t);for(g=0;g<i.length;g+=1)u.delete(i[g]);A(a,J.prev,C.next),A(a,f,J),A(a,C,b),n=b,f=C,h-=1,d=[],i=[]}else u.delete(v),G(v,n,t),A(a,v.prev,v.next),A(a,v,f===null?a.first:f.next),A(a,f,v),f=v;continue}for(d=[],i=[];n!==null&&n.k!==T;)(l||!(n.e.f&D))&&(u??(u=new Set)).add(n),i.push(n),n=n.next;if(n===null)continue;v=n}d.push(v),f=v,n=v.next}if(n!==null||u!==void 0){for(var M=u===void 0?[]:Z(u);n!==null;)(l||!(n.e.f&D))&&M.push(n),n=n.next;var le=M.length;if(le>0){var fe=c===0?t:null;Be(a,M,fe,_)}}X.first=a.first&&a.first.e,X.last=f&&f.e}function Je(e,a,t,s){pe(e.v,a),e.i=t}function se(e,a,t,s,r,l,o,c,_){var p=H;try{var n=(_&he)!==0,u=(_&ge)===0,f=n?u?ye(r):z(r):r,d=_&Te?z(o):o,i={i:d,v:f,k:l,a:null,e:null,prev:t,next:s};return H=i,i.e=ee(()=>c(e,f,d),y),i.e.prev=t&&t.e,i.e.next=s&&s.e,t===null?a.first=i:(t.next=i,t.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{H=p}}function G(e,a,t){for(var s=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,l=e.e.nodes_start;l!==s;){var o=we(l);r.before(l),l=o}}function A(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}let K=!1;function ne(){K||(K=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function oe(e){if(y){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;Q(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var r=e.checked;Q(e,"checked",null),e.checked=r}}};e.__on_r=t,De(t),ne()}}function Pe(e,a){var t=e.__attributes??(e.__attributes={});t.checked!==(t.checked=a)&&(e.checked=a)}function Q(e,a,t,s){var r=e.__attributes??(e.__attributes={});y&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Le]=t),e.removeAttribute(a))}function Xe(e,a,t){if(t){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}function ze(e,a,t,s=t){e.addEventListener(a,t);const r=e.__on_r;r?e.__on_r=()=>{r(),s()}:e.__on_r=s,ne()}function Ge(e,a,t=a){var s=Ne();ze(e,"input",()=>{var r=F(e)?W(e.value):e.value;t(r),s&&r!==(r=a())&&(e.value=r??"")}),$e(()=>{var r=a();if(y&&e.defaultValue!==e.value){t(e.value);return}F(e)&&r===W(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function F(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}function Ke(e){return function(...a){var t=a[0];return t.preventDefault(),e==null?void 0:e.apply(this,a)}}const k=Ye([]);var Qe=S('<div class="todo-item svelte-1fh0l9s"><input type="checkbox"> <span class="svelte-1fh0l9s"> </span> <button class="svelte-1fh0l9s">Delete</button></div>');function Fe(e,a){B(a,!1);let t=He(a,"todo",8);function s(){k.update(n=>n.map(u=>u.id===t().id?{...u,completed:!u.completed}:u))}function r(){k.update(n=>n.filter(u=>u.id!==t().id))}V();var l=Qe(),o=L(l);oe(o);var c=N(o,2),_=L(c,!0);I(c);var p=N(c,2);I(l),Se(()=>{Pe(o,t().completed),Xe(c,"completed",t().completed),Re(_,t().text)}),Y("change",o,s),Y("click",p,r),$(e,l),U()}var We=S('<div class="todo-list svelte-1uacvoc"></div>');function Ze(e){const a=te(),t=()=>re(k,"$todos",a);var s=We();Ue(s,5,t,r=>r.id,(r,l)=>{Fe(r,{get todo(){return x(l)}})}),I(s),$(e,s)}var je=S('<form class="add-todo svelte-1ve73lf"><input type="text" placeholder="Add a new todo..." class="svelte-1ve73lf"> <button type="submit" class="svelte-1ve73lf">Add</button></form>');function ea(e,a){B(a,!1);let t=ae("");function s(){x(t).trim()&&(k.update(o=>[...o,{id:crypto.randomUUID(),text:x(t),completed:!1,createdAt:Date.now()}]),q(t,""))}V();var r=je(),l=L(r);oe(l),Ce(2),I(r),Ge(l,()=>x(t),o=>q(t,o)),Y("submit",r,Ke(s)),$(e,r),U()}var aa=S('<div class="container svelte-x2qs35"><h1 class="svelte-x2qs35">Todo App</h1> <!> <!></div>');function fa(e,a){B(a,!1);const t=te(),s=()=>re(k,"$todos",t);let r=ae(!1);qe(()=>{q(r,!0);const _=localStorage.getItem("todos");_&&k.set(JSON.parse(_))}),Me(()=>(x(r),s()),()=>{x(r)&&localStorage.setItem("todos",JSON.stringify(s()))}),Oe(),V();var l=aa(),o=N(L(l),2);ea(o,{});var c=N(o,2);Ze(c),I(l),$(e,l),U()}export{fa as component};
